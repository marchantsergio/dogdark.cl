{"remainingRequest":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\src\\views\\Login.vue","mtime":1635216088441},{"path":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\babel.config.js","mtime":1635008941422},{"path":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE1lbnUgZnJvbSAnLi4vY29tcG9uZW50cy9NZW51LnZ1ZSc7CmltcG9ydCB1c2VWYWxpZGF0ZSBmcm9tICdAdnVlbGlkYXRlL2NvcmUnOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoIH0gZnJvbSAnQHZ1ZWxpZGF0ZS92YWxpZGF0b3JzJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgR2xvYmFsIH0gZnJvbSAnLi4vR2xvYmFsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgTWVudTogTWVudQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHYkOiB1c2VWYWxpZGF0ZSgpLAogICAgICB1c2VybG9nOiAnJywKICAgICAgcGFzc2xvZzogJycsCiAgICAgIG1lcnJvcjogJycsCiAgICAgIHJldG9ybm86IFtdCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IGZ1bmN0aW9uIHZhbGlkYXRpb25zKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcmxvZzogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KQogICAgICB9LAogICAgICBwYXNzbG9nOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDQpCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubWVycm9yID0gJyc7CiAgICAgIHRoaXMudiQuJHZhbGlkYXRlKCk7CgogICAgICBpZiAoIXRoaXMudiQuJGVycm9yKSB7CiAgICAgICAgLy9jb25zdWx0YW1vcyBhIGxhIGJhc2UgZGUgZGF0b3MKICAgICAgICBheGlvcy5wb3N0KEdsb2JhbC51cmlybCArICdjb25zdWx0YS8nLCB7CiAgICAgICAgICBvcGNpb246IDEsCiAgICAgICAgICB1c2VyOiB0aGlzLnVzZXJsb2csCiAgICAgICAgICBwYXNzOiB0aGlzLnBhc3Nsb2cKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAgICAgICBfdGhpcy5yZXRvcm5vID0gcmVzLmRhdGFbMF07IC8vY29uc29sZS5sb2codGhpcy5yZXRvcm5vKQoKICAgICAgICAgICAgaWYgKCFfdGhpcy5yZXRvcm5vKSB7CiAgICAgICAgICAgICAgX3RoaXMubWVycm9yID0gIkRhdG9zIGVycm9uZW9zIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd2aWVuZSBkYXRhJykKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucmV0b3Juby51c2VyX25vbWJyZSkKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucmV0b3Juby51c2VyX3JvbCkKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIF90aGlzLnJldG9ybm8udXNlcl9ub21icmUpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyb2wnLCBfdGhpcy5yZXRvcm5vLnVzZXJfcm9sKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLm1lcnJvciA9ICJFcnJvciBkZSBEYXRhIjsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzLm1lcnJvciA9ICIiICsgZXJyb3I7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\dogdark\\Documents\\web\\dogdark.cl\\src\\views\\Login.vue"],"names":[],"mappings":"AA2CA,OAAO,IAAP,MAAiB,wBAAjB;AACA,OAAO,WAAP,MAAwB,iBAAxB;AACA,SAAS,QAAT,EAAmB,SAAnB,QAAoC,uBAApC;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,MAAT,QAAuB,WAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAC,OADM;AAEX,EAAA,UAAU,EAAC;AACP,IAAA,IAAG,EAAH;AADO,GAFA;AAKX,EAAA,IALW,kBAKL;AACF,WAAM;AACF,MAAA,EAAE,EAAE,WAAW,EADb;AAEF,MAAA,OAAO,EAAC,EAFN;AAGF,MAAA,OAAO,EAAC,EAHN;AAIF,MAAA,MAAM,EAAC,EAJL;AAKF,MAAA,OAAO,EAAC;AALN,KAAN;AAOH,GAbU;AAcX,EAAA,WAdW,yBAcE;AACT,WAAM;AACF,MAAA,OAAO,EAAC;AACJ,QAAA,QAAQ,EAAR,QADI;AAEJ,QAAA,SAAS,EAAE,SAAS,CAAC,CAAD;AAFhB,OADN;AAKF,MAAA,OAAO,EAAC;AACJ,QAAA,QAAQ,EAAR,QADI;AAEJ,QAAA,SAAS,EAAE,SAAS,CAAC,CAAD;AAFhB;AALN,KAAN;AAUH,GAzBU;AA0BX,EAAA,OA1BW,qBA0BF;AACL,QAAG,YAAY,CAAC,OAAb,CAAqB,MAArB,CAAH,EACA;AACI,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACJ;AACH,GA/BU;AAgCX,EAAA,OAAO,EAAC;AACJ,IAAA,KADI,mBACG;AAAA;;AACH,WAAK,MAAL,GAAc,EAAd;AACA,WAAK,EAAL,CAAQ,SAAR;;AACA,UAAG,CAAC,KAAK,EAAL,CAAQ,MAAZ,EACA;AACI;AACA,QAAA,KAAI,CACH,IADD,CAEI,MAAM,CAAC,KAAP,GAAe,WAFnB,EAGI;AACI,UAAA,MAAM,EAAC,CADX;AAEI,UAAA,IAAI,EAAE,KAAK,OAFf;AAGI,UAAA,IAAI,EAAE,KAAK;AAHf,SAHJ,EASC,IATD,CAUI,UAAA,GAAG,EAAE;AACD,cAAG,GAAG,CAAC,MAAJ,IAAY,GAAf,EACA;AACI;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,GAAG,CAAC,IAAJ,CAAS,CAAT,CAAf,CAFJ,CAGI;;AACA,gBAAG,CAAC,KAAI,CAAC,OAAT,EACA;AACI,cAAA,KAAI,CAAC,MAAL,GAAc,gBAAd;AACH,aAHD,MAGK;AACD;AACA;AACA;AACA,cAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA6B,KAAI,CAAC,OAAL,CAAa,WAA1C;AACA,cAAA,YAAY,CAAC,OAAb,CAAqB,KAArB,EAA4B,KAAI,CAAC,OAAL,CAAa,QAAzC;;AACA,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACJ;AACH,WAhBD,MAgBK;AACD,YAAA,KAAI,CAAC,MAAL,GAAc,eAAd;AACJ;AACJ,SA9BJ,EAgCC,KAhCD,CAgCO,UAAA,KAAK,EAAE;AACV,UAAA,KAAI,CAAC,MAAL,GAAc,KAAK,KAAnB;AACH,SAlCD;AAmCJ;AACJ;AA3CI;AAhCG,CAAf","sourcesContent":["<template>\r\n    <Menu/>\r\n    <form v-on:submit.prevent=\"login()\">\r\n    <div class=\"logi\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12 col-md-4 offset-md-4 mt-4\">\r\n                    <div class=\"card p-4 shadow\">\r\n                        <div><h2 class=\"text-center\"><strong>LOGIN</strong></h2></div>\r\n                        <div class=\"alert alert-danger mb-2\" v-if=\"merror && merror!=''\">{{merror}}</div>\r\n\r\n                        <div class=\"mb-2\">\r\n                            <div v-if=\"v$.userlog.$error\" class=\"alert alert-danger text-center mb-2\">{{ v$.userlog.$errors[0].$message }}</div>\r\n                            <input \r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                v-model=\"userlog\"\r\n                            />\r\n                        </div>\r\n                        <div class=\"mb-2\">\r\n                            <div v-if=\"v$.passlog.$error\" class=\"alert alert-danger text-center mb-2\">{{ v$.passlog.$errors[0].$message }}</div>\r\n                            <input \r\n                                type=\"password\"\r\n                                class=\"form-control\"\r\n                                v-model=\"passlog\"\r\n                            />\r\n                        </div>\r\n                        <div class=\"text-center\">\r\n                            <input \r\n                                type=\"submit\" \r\n                                value=\"INGRESAR\"\r\n                                class=\"btn btn-success\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </form>\r\n</template>\r\n<script>\r\nimport Menu from '../components/Menu.vue'\r\nimport useValidate from '@vuelidate/core'\r\nimport { required, minLength } from '@vuelidate/validators'\r\nimport axios from 'axios'\r\nimport { Global } from '../Global'\r\n\r\nexport default {\r\n    name:'Login',\r\n    components:{\r\n        Menu\r\n    },\r\n    data(){\r\n        return{\r\n            v$: useValidate(),\r\n            userlog:'',\r\n            passlog:'',\r\n            merror:'',\r\n            retorno:[]\r\n        }\r\n    },\r\n    validations(){\r\n        return{\r\n            userlog:{\r\n                required,\r\n                minLength: minLength(4)\r\n            },\r\n            passlog:{\r\n                required,\r\n                minLength: minLength(4)\r\n            }\r\n        }\r\n    },\r\n    mounted(){\r\n        if(localStorage.getItem('user'))\r\n        {\r\n            this.$router.push(\"/\")\r\n        }\r\n    },\r\n    methods:{\r\n        login(){\r\n            this.merror = ''\r\n            this.v$.$validate()\r\n            if(!this.v$.$error)\r\n            {\r\n                //consultamos a la base de datos\r\n                axios\r\n                .post(\r\n                    Global.urirl + 'consulta/',\r\n                    {\r\n                        opcion:1,\r\n                        user: this.userlog,\r\n                        pass: this.passlog\r\n                    }\r\n                )\r\n                .then(\r\n                    res=>{\r\n                        if(res.status==200)\r\n                        {\r\n                            //console.log(res.data)\r\n                            this.retorno = res.data[0]\r\n                            //console.log(this.retorno)\r\n                            if(!this.retorno)\r\n                            {\r\n                                this.merror = \"Datos erroneos\"\r\n                            }else{\r\n                                //console.log('viene data')\r\n                                //console.log(this.retorno.user_nombre)\r\n                                //console.log(this.retorno.user_rol)\r\n                                localStorage.setItem('user', this.retorno.user_nombre)\r\n                                localStorage.setItem('rol', this.retorno.user_rol)\r\n                                this.$router.push(\"/\")\r\n                            }\r\n                        }else{\r\n                            this.merror = \"Error de Data\"\r\n                        }\r\n                    }\r\n                )\r\n                .catch(error=>{\r\n                    this.merror = \"\" + error\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n</script>"],"sourceRoot":""}]}